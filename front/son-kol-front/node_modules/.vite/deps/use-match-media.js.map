{
  "version": 3,
  "sources": ["../../use-match-media/index.js"],
  "sourcesContent": ["import { useState, useEffect } from 'react'\r\n\r\n// * https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia\r\n// * https://developer.mozilla.org/en-US/docs/Web/API/MediaQueryList\r\n// * https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Testing_media_queries\r\n\r\nexport default function useMatchMedia(query) {\r\n  const mediaQueryList = window.matchMedia(query)\r\n  const [ match, setMatch ] = useState(mediaQueryList.matches)\r\n\r\n  useEffect(() => {\r\n    const handleMatchChange = (ev) => setMatch(ev.matches)\r\n\r\n    mediaQueryList.addListener(handleMatchChange)\r\n\r\n    return () => {\r\n      mediaQueryList.removeListener(handleMatchChange)\r\n    }\r\n  }, [ query ])\r\n\r\n  return match\r\n}\r\n\r\nuseMatchMedia.usePrefersColorScheme = function usePrefersColorScheme() {\r\n  const mqlLight = window.matchMedia(\"(prefers-color-scheme: dark)\")\r\n  const mqlDark = window.matchMedia(\"(prefers-color-scheme: light)\")\r\n  const [ schema, setScheme ] = useState(mqlLight.matches ? 'light' : mqlDark.matches ? 'dark' : null)\r\n\r\n  useEffect(() => {\r\n    // We only check for events that do match, since we don't know if a browser\r\n    // will fire the non-match light before the matching dark, or the matching\r\n    // dark prior to the non-matching light.\r\n    const handleLight = (ev) => {\r\n      if (ev.matches) {\r\n        setSchema('light')\r\n      }\r\n    }\r\n    const handleDark = (ev) => {\r\n      if (ev.matches) {\r\n        setScheme('dark')\r\n      }\r\n    }\r\n\r\n    mqlLight.addListener(handleLight)\r\n    mqlDark.addListener(handleDark)\r\n\r\n    return () => {\r\n      mqlLight.removeListener(handleLight)\r\n      mqlDark.removeListener(handleDark)\r\n    }\r\n  }, [])\r\n\r\n  return match\r\n}\r\n"],
  "mappings": ";;;;;;;;AAAA,mBAAoC;AAMrB,SAAR,cAA+B,OAAO;AAC3C,QAAM,iBAAiB,OAAO,WAAW,KAAK;AAC9C,QAAM,CAAEA,QAAO,QAAS,QAAI,uBAAS,eAAe,OAAO;AAE3D,8BAAU,MAAM;AACd,UAAM,oBAAoB,CAAC,OAAO,SAAS,GAAG,OAAO;AAErD,mBAAe,YAAY,iBAAiB;AAE5C,WAAO,MAAM;AACX,qBAAe,eAAe,iBAAiB;AAAA,IACjD;AAAA,EACF,GAAG,CAAE,KAAM,CAAC;AAEZ,SAAOA;AACT;AAEA,cAAc,wBAAwB,SAAS,wBAAwB;AACrE,QAAM,WAAW,OAAO,WAAW,8BAA8B;AACjE,QAAM,UAAU,OAAO,WAAW,+BAA+B;AACjE,QAAM,CAAE,QAAQ,SAAU,QAAI,uBAAS,SAAS,UAAU,UAAU,QAAQ,UAAU,SAAS,IAAI;AAEnG,8BAAU,MAAM;AAId,UAAM,cAAc,CAAC,OAAO;AAC1B,UAAI,GAAG,SAAS;AACd,kBAAU,OAAO;AAAA,MACnB;AAAA,IACF;AACA,UAAM,aAAa,CAAC,OAAO;AACzB,UAAI,GAAG,SAAS;AACd,kBAAU,MAAM;AAAA,MAClB;AAAA,IACF;AAEA,aAAS,YAAY,WAAW;AAChC,YAAQ,YAAY,UAAU;AAE9B,WAAO,MAAM;AACX,eAAS,eAAe,WAAW;AACnC,cAAQ,eAAe,UAAU;AAAA,IACnC;AAAA,EACF,GAAG,CAAC,CAAC;AAEL,SAAO;AACT;",
  "names": ["match"]
}
